<!doctype html>
<html lang="en">
  <head>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <meta name="author" content="Liste - https://vinhlin.github.io/">
    <title>CAN_OBDII | VinhLin</title>
    <meta name="description" content="Technology Blog">
    <meta property="og:title" content="CAN_OBDII" />
<meta property="og:description" content="CAN Bus: Serial Communication - How It Works? Controller Area Network (CAN hoặc CAN Bus) một giao thức truyền thông nối tiếp bất đồng bộ. Bus CAN chỉ có 2 dây giúp kết nối các module điều khiển với nhau dễ dàng hơn khi so sánh với cách làm truyền thống. Do trên ô tô tín hiệu bị nhiễu rất nhiều (sử dụng nhiều mô-tơ), nên CAN Protocol đã được phát triển để chống nhiễu." />
<meta property="og:type" content="article" />
<meta property="og:url" content="https://vinhlin.github.io/posts/iot/hardware/can_obdii/" /><meta property="article:section" content="posts" />
<meta property="article:published_time" content="2024-10-01T15:56:03+07:00" />
<meta property="article:modified_time" content="2024-10-01T15:56:03+07:00" />

    <meta itemprop="name" content="CAN_OBDII">
<meta itemprop="description" content="CAN Bus: Serial Communication - How It Works? Controller Area Network (CAN hoặc CAN Bus) một giao thức truyền thông nối tiếp bất đồng bộ. Bus CAN chỉ có 2 dây giúp kết nối các module điều khiển với nhau dễ dàng hơn khi so sánh với cách làm truyền thống. Do trên ô tô tín hiệu bị nhiễu rất nhiều (sử dụng nhiều mô-tơ), nên CAN Protocol đã được phát triển để chống nhiễu."><meta itemprop="datePublished" content="2024-10-01T15:56:03+07:00" />
<meta itemprop="dateModified" content="2024-10-01T15:56:03+07:00" />
<meta itemprop="wordCount" content="416">
<meta itemprop="keywords" content="" />
    
    <link rel="canonical" href="https://vinhlin.github.io/posts/iot/hardware/can_obdii/">
    <link rel="icon" href="https://vinhlin.github.io//assets/favicon.ico">
    <link rel="dns-prefetch" href="https://www.google-analytics.com">
    <link href="https://www.google-analytics.com" rel="preconnect" crossorigin>
    <link rel="alternate" type="application/atom+xml" title="VinhLin" href="https://vinhlin.github.io//atom.xml" />
    <link rel="alternate" type="application/json" title="VinhLin" href="https://vinhlin.github.io//feed.json" />
    <link rel="shortcut icon" type="image/png" href="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAABCAQAAAC1HAwCAAAAC0lEQVR42mNk+A8AAQUBAScY42YAAAAASUVORK5CYII=">
    
    
    <style>*,:after,:before{box-sizing:border-box;padding:0}body{font:1rem/1.5 '-apple-system',BlinkMacSystemFont,avenir next,avenir,helvetica,helvetica neue,ubuntu,roboto,noto,segoe ui,arial,sans-serif;text-rendering:optimizeLegibility;-webkit-font-smoothing:antialiased;-moz-osx-font-smoothing:grayscale;padding:2rem;background:#f5f5f5;color:#000}.skip-link{position:absolute;top:-40px;left:0;background:#eee;z-index:100}.skip-link:focus{top:0}h1,h2,h3,h4,h5,strong,b{font-size:inherit;font-weight:600}header{line-height:2;padding-bottom:1.5rem}.link{overflow:hidden;text-overflow:ellipsis;white-space:nowrap;overflow:hidden;text-overflow:ellipsis;text-decoration:none}.time{font-variant-numeric:tabular-nums;white-space:nowrap}blockquote{border-left:5px solid #eee;padding-left:1rem;margin:0}a,a:visited{color:inherit}a:hover,a.heading-link{text-decoration:none}pre{padding:.5rem;overflow:auto;overflow-x:scroll;overflow-wrap:normal}code,pre{font-family:San Francisco Mono,Monaco,consolas,lucida console,dejavu sans mono,bitstream vera sans mono,monospace;font-size:normal;font-size:small;background:#eee}code{margin:.1rem;border:none}ul{list-style-type:square}ul,ol{padding-left:1.2rem}.list{line-height:2;list-style-type:none;padding-left:0}.list li{padding-bottom:.1rem}.meta{color:#777}.content{max-width:70ch;margin:0 auto}header{line-height:2;display:flex;justify-content:space-between;padding-bottom:1rem}header a{text-decoration:none}header ul{list-style-type:none;padding:0}header li,header a{display:inline}h2.post{padding-top:.5rem}header ul a:first-child{padding-left:1rem}.nav{height:1px;background:#000;content:'';max-width:10%}.list li{display:flex;align-items:baseline}.list li time{flex:initial}.hr-list{margin-top:0;margin-bottom:0;margin-right:.5rem;margin-left:.5rem;height:1px;border:0;border-bottom:1px dotted #ccc;flex:1 0 1rem}.m,hr{border:0;margin:3rem 0}img{max-width:100%;height:auto}.post-date{margin:5% 0}.index-date{color:#9a9a9a}.animate-blink{animation:opacity 1s infinite;opacity:1}@keyframes opacity{0%{opacity:1}50%{opacity:.5}100%{opacity:0}}.tags{display:flex;justify-content:space-between}.tags ul{padding:0;margin:0}.tags li{display:inline}.avatar{height:120px;width:120px;position:relative;margin:-10px 0 0 15px;float:right;border-radius:50%}table{width:100%;border-collapse:collapse}th,td{border:1px solid #ddd;text-align:left;padding:8px}th{background-color:#f2f2f2} </style>
  
    
  
  
  <script type="application/ld+json">
  {
      "@context": "http://schema.org",
      "@type": "BlogPosting",
      "articleSection": "posts",
      "name": "CAN_OBDII",
      "headline": "CAN_OBDII",
      "alternativeHeadline": "",
      "description": "CAN Bus: Serial Communication - How It Works? Controller Area Network (CAN hoặc CAN Bus) một giao thức truyền thông nối tiếp bất đồng bộ. Bus CAN chỉ có 2 dây giúp kết nối các module điều khiển với nhau dễ dàng hơn khi so sánh với cách làm truyền thống. Do trên ô tô tín hiệu bị nhiễu rất nhiều (sử dụng nhiều mô-tơ), nên CAN Protocol đã được phát triển để chống nhiễu.",
      "inLanguage": "en-us",
      "isFamilyFriendly": "true",
      "mainEntityOfPage": {
          "@type": "WebPage",
          "@id": "https:\/\/vinhlin.github.io\/posts\/iot\/hardware\/can_obdii\/"
      },
      "author" : {
          "@type": "Person",
          "name": ""
      },
      "creator" : {
          "@type": "Person",
          "name": ""
      },
      "accountablePerson" : {
          "@type": "Person",
          "name": ""
      },
      "copyrightHolder" : "VinhLin",
      "copyrightYear" : "2024",
      "dateCreated": "2024-10-01T15:56:03.00Z",
      "datePublished": "2024-10-01T15:56:03.00Z",
      "dateModified": "2024-10-01T15:56:03.00Z",
      "publisher":{
          "@type":"Organization",
          "name": "VinhLin",
          "url": "https://vinhlin.github.io/",
          "logo": {
              "@type": "ImageObject",
              "url": "https:\/\/vinhlin.github.io\/assets\/favicon.ico",
              "width":"32",
              "height":"32"
          }
      },
      "image": "https://vinhlin.github.io/assets/favicon.ico",
      "url" : "https:\/\/vinhlin.github.io\/posts\/iot\/hardware\/can_obdii\/",
      "wordCount" : "416",
      "genre" : [ ],
      "keywords" : [ ]
  }
  </script>
  
  
  </head>

<body>
  <a class="skip-link" href="#main">Skip to main</a>
  <main id="main">
  <div class="content">
    <header>
<p style="padding: 0;margin: 0;">
  <a href="/">
    <b>VinhLin</b>
    <span class="text-stone-500 animate-blink">▮</span>
  </a>
</p>
<ul style="padding: 0;margin: 0;">
  
  
  <li class="">
    <a href="/changelog/"><span>CHANGELOG</span></a>
    
  <li class="">
    <a href="/posts/"><span>Post</span></a>
    
  <li class="">
    <a href="/about/"><span>About</span></a>
    
  </li>
</ul>
</header>
<hr class="hr-list" style="padding: 0;margin: 0;">
    <section>
      <h2 class="post">CAN_OBDII</h2>
      <h2 id="can-bus-serial-communication---how-it-workshttpswwwyoutubecomwatchvjzsczrt9tto"><a href="https://www.youtube.com/watch?v=JZSCzRT9TTo">CAN Bus: Serial Communication - How It Works?</a></h2>
<p><img
  src="/image/IoT/CAN_OBDII/CAN_1.png"
  alt="CAN_1"
  loading="lazy"
  decoding="async"
  class="full-width"
/>

</p>
<ul>
<li><strong>Controller Area Network (CAN hoặc CAN Bus)</strong> một giao thức truyền thông nối tiếp bất đồng bộ.</li>
</ul>
<p><img
  src="/image/IoT/CAN_OBDII/CAN_2.png"
  alt="CAN_2"
  loading="lazy"
  decoding="async"
  class="full-width"
/>

</p>
<ul>
<li>Bus CAN chỉ có 2 dây giúp kết nối các module điều khiển với nhau dễ dàng hơn khi so sánh với cách làm truyền thống.</li>
</ul>
<p><img
  src="/image/IoT/CAN_OBDII/CAN_3.png"
  alt="CAN_3"
  loading="lazy"
  decoding="async"
  class="full-width"
/>

</p>
<ul>
<li>Do trên ô tô tín hiệu bị nhiễu rất nhiều (sử dụng nhiều mô-tơ), nên <strong>CAN Protocol</strong> đã được phát triển để <strong>chống nhiễu</strong>.</li>
<li>Ban đầu CAN được thiết kế dành cho ngành công nghiệp ô tô, tuy nhiên hiện nay CAN cũng đã trở thành một tiêu chuẩn phổ biến trong tự động hóa công nghiệp và các ngành khác.</li>
</ul>
<h3 id="tài-liệu-tham-khảo-khác-về-can">Tài liệu tham khảo khác về CAN</h3>
<pre tabindex="0"><code>https://www.ti.com/lit/an/sloa101b/sloa101b.pdf?ts=1727681723175&amp;ref_url=https%253A%252F%252Fwww.google.com.sg%252F
https://mesidas.com/can-canbus/
https://community.nxp.com/t5/NXP-Tech-Blog/101-Controller-Area-Network-CAN-standard/ba-p/1217054
https://www.typhoon-hil.com/documentation/typhoon-hil-software-manual/References/can_bus_protocol.html
</code></pre><h3 id="note">Note</h3>
<ul>
<li>Nhìn chung thì giao thức CAN cũng như các giao thức serial khác, như UART, SPI, I2C,&hellip;</li>
<li>Mình chỉ cần hiểu cách sử dụng giao thức, chứ không nhất thiết phải quan tâm đến từng tín hiệu điện của protocol.</li>
<li>Bản thân giao thức CAN có một số dòng chip phổ biến, như:
<ul>
<li><a href="https://ww1.microchip.com/downloads/en/devicedoc/20001667g.pdf">MCP2551</a></li>
<li><a href="https://www.nxp.com/docs/en/data-sheet/TJA1050.pdf">TJA1050</a></li>
<li><a href="https://www.ti.com/lit/ds/symlink/sn65hvd230.pdf?ts=1727771231223&amp;ref_url=https%253A%252F%252Fwww.ti.com%252Fproduct%252FSN65HVD230%253Futm_source%253Dgoogle%2526utm_medium%253Dcpc%2526utm_campaign%253Dasc-null-null-GPN_EN-cpc-pf-google-soas%2526utm_content%253DSN65HVD230%2526ds_k%253DSN65HVD230+Datasheet%2526DCM%253Dyes%2526gad_source%253D1%2526gclid%253DCj0KCQjwu-63BhC9ARIsAMMTLXR7R_weCPL_OVEche7n0ns9PKmoIPJQEKCm7Smr_0-Ta597tHP5OdEaAt8jEALw_wcB%2526gclsrc%253Daw.ds">SN65HVD230</a></li>
</ul>
</li>
<li>Các dòng chip trên đều convert từ <strong>CAN - TTL</strong>, giao tiếp <em>UART-TTL</em> vẫn là cái gì đó cơ bản và dễ dàng sử dụng.</li>
</ul>
<h2 id="obd">OBD</h2>
<ul>
<li>Các bài viết liên quan:</li>
</ul>
<pre tabindex="0"><code>https://www.otosaigon.com/threads/huong-dan-chan-doan-loi-bang-may-quet-obd2-cho-nguoi-nghiep-du.9075318/
https://autoitech.vn/obd-ii-ma-loi-tren-o-to-phan-1/
https://vinfastauto.com/vn_vi/he-thong-obd-tren-o-to-va-nhung-dieu-can-biet
https://www.thegioididong.com/hoi-dap/cong-obd-2-la-gi-cac-tien-ich-tu-cong-obd-2-tren-xe-o-to-1292647
</code></pre><blockquote>
<p><strong>OBD (On – Board Diagnostics)</strong>, hay còn gọi là hệ thống chẩn đoán lỗi OBD, được trang bị trên ô tô để theo dõi và điều chỉnh một số hoạt động của phương tiện. Hệ thống này thu thập thông tin từ mạng lưới các cảm biến gắn cố định quanh xe, phát hiện lỗi hư hỏng và cảnh báo tới người lái nhằm kịp thời đưa ra phương án xử lý.</p>
</blockquote>
<p><img
  src="/image/IoT/CAN_OBDII/H%e1%bb%87_th%e1%bb%91ng_OBD.jpg"
  alt="OBD"
  loading="lazy"
  decoding="async"
  class="full-width"
/>

</p>
<ul>
<li>Cổng kết nối OBDII:</li>
</ul>
<p><img
  src="/image/IoT/CAN_OBDII/OBDII_Pinout.jpg"
  alt="OBD_pinout"
  loading="lazy"
  decoding="async"
  class="full-width"
/>

</p>
<h3 id="note-1">Note</h3>
<ul>
<li>Theo mình hiểu thì OBD là một chuẩn (gồm cổng kết nối, protocol) để các hãng xe làm theo quy chuẩn này.</li>
<li>Mình liên tưởng điều này với bộ thiết bị GSHT, ví dụ với mỗi nhà phát hành một thiết bị GSHT thì sẽ có một bộ protocol của họ.</li>
<li>Tuy nhiên các thiết bị GSHT này đều phải tuân theo <strong>QCVN31</strong> (bao gồm công kết nối, protocol của bản tin). Khi tuân theo chuẩn chung này thì nhà nước, chính quyền có thể đọc thông tin từ thiết bị GSHT khi có vấn đề xảy ra.</li>
<li>Nếu hiểu như vậy thì sẽ phân biệt và dễ hiểu hơn giữa <strong>CAN vs OBD</strong>.</li>
</ul>
<h3 id="tài-liệu-về-mã-lỗi-trê-obdii">Tài liệu về mã lỗi trê OBDII</h3>
<pre tabindex="0"><code>https://www.obd-codes.com/
https://www.obd-codes.com/faq/obd2-codes-explained.php
https://en.wikipedia.org/wiki/OBD-II_PIDs
</code></pre>
      
      <div class="post-date">
        <span class="g time">October 1, 2024 </span> &#8729;
         
      </div>
      
    </section>
    
    
    
  </div>
</main>
</body>
</html>
